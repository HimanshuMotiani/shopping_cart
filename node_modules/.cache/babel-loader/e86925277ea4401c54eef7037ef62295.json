{"ast":null,"code":"import _classCallCheck from\"/Users/apple/Documents/AltCampusRepository/react/shopping_cart/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/apple/Documents/AltCampusRepository/react/shopping_cart/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/apple/Documents/AltCampusRepository/react/shopping_cart/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/apple/Documents/AltCampusRepository/react/shopping_cart/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import Aside from'./Aside';import Product from'./Product';import Cart from'./Cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.handleUpdateLocalStorage=function(){localStorage.setItem(\"carts\",JSON.stringify(_this.state.productCart));};_this.handleSize=function(event){var val=event.target.innerText;var sizes=_this.state.activeSize;if(sizes.indexOf(val)==-1){sizes.push(val);}else{sizes.splice(sizes.indexOf(val),1);}_this.setState({activeSize:sizes});};_this.addToCart=function(product){var productArr=_this.state.productCart;if(productArr.indexOf(product)===-1){productArr.push(product);}else{productArr.map(function(item){if(item.id==product.id){item.quantity=item.quantity+1;}});}_this.setState({productCart:productArr});};_this.handleIncrement=function(product){var productArr=_this.state.productCart;productArr.map(function(item){if(item.id==product.id){item.quantity=item.quantity+1;}});_this.setState({productCart:productArr});};_this.handleDecrement=function(product,index){var productArr=_this.state.productCart;productArr.map(function(item){if(item.id==product.id&&item.quantity>1){item.quantity=item.quantity-1;}});_this.setState({productCart:productArr});};_this.removeProduct=function(product){var productArr=_this.state.productCart;productArr.map(function(item,index){if(item.id==product.id){productArr.splice(index,1);}});_this.setState({productCart:productArr});};_this.state={activeSize:[],productCart:[]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){if(localStorage.carts){this.setState({productCart:JSON.parse(localStorage.carts)});}this.eventId=window.addEventListener(\"beforeunload\",this.handleUpdateLocalStorage);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener(\"beforeunload\",this.handleUpdateLocalStorage);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"main\",{className:\"flex container\",children:[/*#__PURE__*/_jsx(Aside,{activeSize:this.state.activeSize,handleSize:this.handleSize}),/*#__PURE__*/_jsx(Product,{activeSize:this.state.activeSize,addToCart:this.addToCart}),/*#__PURE__*/_jsx(Cart,{productCart:this.state.productCart,handleIncrement:this.handleIncrement,handleDecrement:this.handleDecrement,removeProduct:this.removeProduct,state:this.state})]})});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/apple/Documents/AltCampusRepository/react/shopping_cart/src/components/App.js"],"names":["React","Aside","Product","Cart","App","props","handleUpdateLocalStorage","localStorage","setItem","JSON","stringify","state","productCart","handleSize","event","val","target","innerText","sizes","activeSize","indexOf","push","splice","setState","addToCart","product","productArr","map","item","id","quantity","handleIncrement","handleDecrement","index","removeProduct","carts","parse","eventId","window","addEventListener","removeEventListener","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Aside from './Aside';\nimport Product from './Product'\nimport Cart from './Cart'\nclass App extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            activeSize : [],\n            productCart :[],\n        }\n    }\n\n    componentDidMount() {\n        if (localStorage.carts) {\n            this.setState({ productCart: JSON.parse(localStorage.carts) })\n        }\n        this.eventId = window.addEventListener(\"beforeunload\", this.handleUpdateLocalStorage)\n    }\n\n    componentWillUnmount(){\n        window.removeEventListener(\"beforeunload\", this.handleUpdateLocalStorage)\n    }\n    handleUpdateLocalStorage = ()=>{\n        localStorage.setItem(\"carts\",JSON.stringify(this.state.productCart))\n    }\n\n    handleSize = (event)=>{\n        let val = event.target.innerText;\n        let sizes = this.state.activeSize;\n        if(sizes.indexOf(val) == -1){\n            sizes.push(val);\n        }\n        else{\n            sizes.splice(sizes.indexOf(val),1)\n        }\n        this.setState({\n            activeSize:sizes\n        });\n    }\n\n    addToCart = (product)=>{\n        let productArr= this.state.productCart;\n        if(productArr.indexOf(product) === -1){\n            productArr.push(product)\n        }\n        else{\n            productArr.map(item=>{\n               if(item.id == product.id){\n                   item.quantity = item.quantity + 1\n               }\n            })\n        }\n        this.setState({\n            productCart:productArr\n        })\n    }\n    handleIncrement = (product)=>{\n        let productArr= this.state.productCart;\n            productArr.map(item=>{\n               if(item.id == product.id){\n                   item.quantity = item.quantity + 1\n               }\n            })\n        this.setState({\n                productCart:productArr\n        })\n    }\n    handleDecrement = (product,index)=>{\n        let productArr= this.state.productCart;\n            productArr.map(item=>{\n               if(item.id == product.id && item.quantity >1){\n                   item.quantity = item.quantity - 1\n               }\n            })\n        this.setState({\n                productCart:productArr\n        })\n    }\n    removeProduct = (product)=>{\n        let productArr= this.state.productCart;\n        productArr.map((item,index)=>{\n            if(item.id == product.id){\n                productArr.splice(index,1)\n            }\n         })\n     this.setState({\n             productCart:productArr\n     })\n    }\n    \n    render(){\n    return (\n    <>\n    <main className=\"flex container\">\n        <Aside activeSize={this.state.activeSize}  handleSize={this.handleSize}/>\n        <Product activeSize={this.state.activeSize} addToCart={this.addToCart}/>\n        <Cart productCart={this.state.productCart} \n        handleIncrement={this.handleIncrement} \n        handleDecrement={this.handleDecrement}\n        removeProduct={this.removeProduct}\n        state={this.state}\n        />\n    </main>\n\n    </>\n    )\n}\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}